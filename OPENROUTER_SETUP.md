# å¿«é€Ÿé…ç½®OpenRouteræŒ‡å—

## ä»€ä¹ˆæ˜¯OpenRouterï¼Ÿ

OpenRouteræ˜¯ä¸€ä¸ªAI APIèšåˆå¹³å°ï¼Œæä¾›ï¼š
- ğŸš€ æ¯”å®˜æ–¹APIæ›´ä¾¿å®œçš„ä»·æ ¼
- ğŸ”„ ç»Ÿä¸€çš„APIæ¥å£è®¿é—®å¤šç§æ¨¡å‹
- âš¡ å¿«é€Ÿå“åº”å’Œé«˜å¯ç”¨æ€§
- ğŸ¯ ç®€å•çš„æŒ‰ä½¿ç”¨é‡ä»˜è´¹

## 5åˆ†é’Ÿå¿«é€Ÿé…ç½®

### æ­¥éª¤1ï¼šè·å–OpenRouter APIå¯†é’¥

1. è®¿é—® [OpenRouterå®˜ç½‘](https://openrouter.ai/)
2. ç‚¹å‡»"Sign In"æ³¨å†Œæˆ–ç™»å½•
3. è¿›å…¥æ§åˆ¶å°ï¼Œç‚¹å‡»"API Keys"
4. åˆ›å»ºæ–°çš„APIå¯†é’¥å¹¶å¤åˆ¶

### æ­¥éª¤2ï¼šåœ¨æ‰©å±•ä¸­é…ç½®

1. æ‰“å¼€Chromeæ‰©å±•çš„ä¾§è¾¹æ 
2. ç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼ˆé½¿è½®å›¾æ ‡ï¼‰
3. é…ç½®ä»¥ä¸‹é€‰é¡¹ï¼š
   - **AIæœåŠ¡æä¾›å•†**ï¼šé€‰æ‹© `OpenAI`
   - **APIå¯†é’¥**ï¼šç²˜è´´æ‚¨çš„OpenRouter APIå¯†é’¥
   - **API Base URL**ï¼šè¾“å…¥ `https://openrouter.ai/api/v1`
4. ç‚¹å‡»"ä¿å­˜è®¾ç½®"

### æ­¥éª¤3ï¼šé€‰æ‹©åˆé€‚çš„æ¨¡å‹

åœ¨è®¾ç½®ä¸­ï¼Œæ‚¨å¯ä»¥é€‰æ‹©ä»¥ä¸‹æ¨¡å‹ï¼ˆåœ¨"OpenAIæ¨¡å‹"å­—æ®µä¸­è¾“å…¥ï¼‰ï¼š

**æ€§ä»·æ¯”æ¨è**ï¼š
```
openai/gpt-3.5-turbo
```

**è´¨é‡ä¼˜å…ˆ**ï¼š
```
anthropic/claude-3-sonnet
anthropic/claude-3-opus
```

**å¼€æºé€‰æ‹©**ï¼š
```
meta-llama/llama-2-70b-chat
mistralai/mistral-7b-instruct
```

**Googleæ¨¡å‹**ï¼š
```
google/gemini-pro
```

## ä»·æ ¼å¯¹æ¯”

| æ¨¡å‹ | OpenRouterä»·æ ¼ | å®˜æ–¹APIä»·æ ¼ | èŠ‚çœ |
|------|----------------|-------------|------|
| GPT-3.5-turbo | $0.002/1K tokens | $0.002/1K tokens | ç›¸åŒ |
| Claude-3-Sonnet | $3/1M tokens | $15/1M tokens | 80% |
| GPT-4 | $30/1M tokens | $30/1M tokens | ç›¸åŒ |
| Llama-2-70B | $0.7/1M tokens | - | å¼€æºå…è´¹ |

## ä½¿ç”¨æŠ€å·§

### 1. æ¨¡å‹é€‰æ‹©å»ºè®®

- **æ—¥å¸¸æ‘˜è¦**ï¼šä½¿ç”¨ `openai/gpt-3.5-turbo`
- **å¤æ‚åˆ†æ**ï¼šä½¿ç”¨ `anthropic/claude-3-sonnet`
- **èŠ‚çº¦æˆæœ¬**ï¼šä½¿ç”¨ `meta-llama/llama-2-70b-chat`

### 2. ç›‘æ§ä½¿ç”¨é‡

åœ¨OpenRouteræ§åˆ¶å°å¯ä»¥æŸ¥çœ‹ï¼š
- å®æ—¶ä½¿ç”¨ç»Ÿè®¡
- æŒ‰æ¨¡å‹çš„æˆæœ¬åˆ†æ
- è®¾ç½®ä½¿ç”¨é™é¢

### 3. é”™è¯¯æ’é™¤

**å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ**ï¼š

```
"Invalid API key"
â†’ æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®å¤åˆ¶
```

```
"Model not found"
â†’ ç¡®è®¤æ¨¡å‹åç§°æ ¼å¼æ­£ç¡®ï¼ˆå¦‚ï¼šopenai/gpt-3.5-turboï¼‰
```

```
"Insufficient credits"
â†’ åœ¨OpenRouterè´¦æˆ·ä¸­å……å€¼
```

## é«˜çº§é…ç½®

### è‡ªå®šä¹‰Headersï¼ˆå¦‚éœ€è¦ï¼‰

å¦‚æœéœ€è¦æ·»åŠ è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­ä¿®æ”¹ï¼š

```javascript
// åœ¨ai-service.jsä¸­æ·»åŠ 
headers: {
  'Content-Type': 'application/json',
  'Authorization': `Bearer ${apiKey}`,
  'HTTP-Referer': 'https://your-domain.com',  // å¯é€‰
  'X-Title': 'Smart Summary Assistant'        // å¯é€‰
}
```

### è¯·æ±‚å‚æ•°ä¼˜åŒ–

```javascript
// é’ˆå¯¹ä¸åŒæ¨¡å‹ä¼˜åŒ–å‚æ•°
const requestBody = {
  model: 'anthropic/claude-3-sonnet',
  messages: messages,
  max_tokens: 1500,
  temperature: 0.7,
  top_p: 0.9,                    // æ§åˆ¶è¾“å‡ºçš„å¤šæ ·æ€§
  frequency_penalty: 0.1,        // å‡å°‘é‡å¤
  presence_penalty: 0.1          // é¼“åŠ±æ–°è¯é¢˜
};
```

## æˆæœ¬ä¼˜åŒ–å»ºè®®

### 1. æ™ºèƒ½æ¨¡å‹åˆ‡æ¢

æ ¹æ®ä»»åŠ¡å¤æ‚åº¦è‡ªåŠ¨é€‰æ‹©æ¨¡å‹ï¼š
- ç®€å•æ‘˜è¦ â†’ ä¾¿å®œçš„æ¨¡å‹
- å¤æ‚é—®ç­” â†’ é«˜è´¨é‡æ¨¡å‹

### 2. ç¼“å­˜ç­–ç•¥

æ‰©å±•å·²å†…ç½®ç¼“å­˜ï¼Œç›¸åŒå†…å®¹ä¸ä¼šé‡å¤è°ƒç”¨APIã€‚

### 3. é•¿åº¦æ§åˆ¶

- è®¾ç½®åˆç†çš„ `max_tokens`
- å¯¹é•¿æ–‡æœ¬è¿›è¡Œé¢„å¤„ç†æˆªæ–­

## å…¶ä»–å…¼å®¹æœåŠ¡

é™¤äº†OpenRouterï¼Œè¿˜æ”¯æŒï¼š

- **Together AI**: `https://api.together.xyz/v1`
- **Groq**: `https://api.groq.com/openai/v1`
- **æœ¬åœ°API**: `http://localhost:8000`

é…ç½®æ–¹æ³•ç›¸åŒï¼Œåªéœ€æ›´æ”¹API Base URLå³å¯ã€‚

---

é…ç½®å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥äº«å—æ›´ä¾¿å®œã€æ›´çµæ´»çš„AIæœåŠ¡äº†ï¼ğŸ‰
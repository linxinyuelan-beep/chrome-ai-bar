# 智能摘要功能测试指南

## 🎉 功能更新

已经将模拟数据替换为真实的AI摘要功能！现在点击"总结"按钮将会：

1. **提取真实页面内容** - 自动识别页面主要内容
2. **调用AI服务** - 使用配置的AI服务生成智能摘要  
3. **保存到历史记录** - 自动保存摘要结果

## 🔧 测试前准备

### 1. 配置AI服务
在使用摘要功能前，需要先配置AI服务：

1. 点击扩展图标打开侧边栏
2. 点击右上角的"设置"图标 ⚙️
3. 在设置面板中配置：
   - **AI提供商**: 选择 OpenAI、Claude 或 Gemini
   - **API密钥**: 输入对应服务的API密钥
   - **API地址**: （可选）自定义API地址
   - **模型**: 选择要使用的模型

### 2. 配置摘要偏好
在设置中还可以配置：
- **摘要长度**: 简洁/中等/详细
- **摘要风格**: 要点列表/段落形式/问答形式
- **输出语言**: 中文/英文/自动检测

## 🧪 测试步骤

### 方法1: 使用提供的测试页面

1. 用Chrome浏览器打开项目根目录下的 `test-page.html`
2. 确保扩展已加载并配置好AI服务
3. 点击扩展图标打开侧边栏
4. 测试两种摘要方式：
   - **页面摘要**: 直接点击"总结"按钮，摘要整个页面
   - **选中摘要**: 先选中页面中的任意文本，然后点击"摘要选中内容"

### 方法2: 在任意网页测试

1. 打开任意有内容的网页（如新闻网站、博客文章等）
2. 打开扩展侧边栏
3. 测试页面摘要和选中内容摘要功能

## ✅ 预期结果

### 成功情况
- 显示"正在生成摘要..."加载状态
- 2-10秒后显示AI生成的摘要内容
- 摘要内容符合设置的长度、风格和语言要求
- 摘要保存到历史记录中

### 可能的错误情况
- **"请先在设置中配置API密钥"** - 需要先配置AI服务
- **"无法提取页面内容"** - 页面内容过少或提取失败
- **"请先选择要摘要的内容"** - 使用选中摘要时没有选择文本
- **API相关错误** - 检查API密钥、网络连接、配额等

## 🐛 调试信息

如果遇到问题，可以查看控制台日志：

1. **扩展背景页日志**: 
   - 打开 `chrome://extensions/`
   - 找到扩展，点击"检查视图"下的"Service Worker"

2. **页面内容脚本日志**:
   - 在测试页面右键 → 检查 → Console

3. **侧边栏日志**:
   - 在侧边栏右键 → 检查元素 → Console

## 📝 测试检查清单

- [ ] AI服务配置完成
- [ ] 页面摘要功能正常
- [ ] 选中内容摘要功能正常  
- [ ] 摘要内容质量良好
- [ ] 错误情况处理正常
- [ ] 历史记录保存正常
- [ ] 不同网页测试通过

## 🎯 下一步优化

基于测试结果，可以考虑：
- 优化内容提取算法
- 改进错误提示信息
- 添加更多自定义选项
- 提升摘要质量和速度

---

**注意**: 首次使用时，请确保网络连接正常，API服务可用，并有足够的API调用配额。
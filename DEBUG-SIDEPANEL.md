# Chromeæ‰©å±•ä¾§è¾¹æ è°ƒè¯•æŒ‡å—

## é—®é¢˜è¯Šæ–­æ­¥éª¤

### 1. é‡æ–°åŠ è½½æ‰©å±•

1. æ‰“å¼€ `chrome://extensions/`
2. æ‰¾åˆ°"æ™ºèƒ½æ‘˜è¦åŠ©æ‰‹"æ‰©å±•
3. ç‚¹å‡»åˆ·æ–°æŒ‰é’® ğŸ”„
4. ç¡®ä¿æ‰©å±•å·²å¯ç”¨

### 2. æ£€æŸ¥æ‰©å±•æ˜¯å¦æ­£å¸¸åŠ è½½

1. åœ¨æ‰©å±•é¡µé¢ç‚¹å‡»"è¯¦ç»†ä¿¡æ¯"
2. ç‚¹å‡»"æ£€æŸ¥è§†å›¾ service worker"
3. åœ¨æ§åˆ¶å°ä¸­åº”è¯¥èƒ½çœ‹åˆ°ï¼š
   ```
   Extension installed: {reason: "install"}
   ```

### 3. æµ‹è¯•ä¾§è¾¹æ åŠŸèƒ½

#### æ–¹æ³•1: ç‚¹å‡»æ‰©å±•å›¾æ ‡
1. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„æ‰©å±•å›¾æ ‡
2. ä¾§è¾¹æ åº”è¯¥ä¼šåœ¨å³ä¾§æ‰“å¼€

#### æ–¹æ³•2: ä½¿ç”¨å³é”®èœå•
1. åœ¨ä»»æ„ç½‘é¡µä¸Šå³é”®
2. é€‰æ‹©"æ™ºèƒ½æ‘˜è¦ > æ€»ç»“æ•´ä¸ªé¡µé¢"
3. æˆ–è€…é€‰ä¸­ä¸€äº›æ–‡å­—åå³é”®é€‰æ‹©"æ™ºèƒ½æ‘˜è¦ > æ€»ç»“é€‰ä¸­å†…å®¹"

### 4. å¦‚æœä¾§è¾¹æ ä¸æ˜¾ç¤º

#### æ£€æŸ¥Chromeç‰ˆæœ¬
- ç¡®ä¿Chromeç‰ˆæœ¬ â‰¥ 116
- Side Panel APIéœ€è¦è¾ƒæ–°çš„Chromeç‰ˆæœ¬

#### æ£€æŸ¥manifest.jsoné…ç½®
ç¡®ä¿ä»¥ä¸‹é…ç½®æ­£ç¡®ï¼š
```json
{
  "permissions": ["sidePanel"],
  "side_panel": {
    "default_path": "sidepanel.html"
  }
}
```

#### æ£€æŸ¥service workeré”™è¯¯
1. åœ¨ `chrome://extensions/` é¡µé¢
2. ç‚¹å‡»æ‰©å±•çš„"æ£€æŸ¥è§†å›¾ service worker"
3. æŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### 5. å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### é—®é¢˜1: ç‚¹å‡»å›¾æ ‡æ— ååº”
**è§£å†³æ–¹æ¡ˆ:**
- ç¡®ä¿åœ¨manifest.jsonä¸­é…ç½®äº†action
- æ£€æŸ¥service workerä¸­çš„action.onClickedç›‘å¬å™¨

#### é—®é¢˜2: ä¾§è¾¹æ æ˜¾ç¤ºç©ºç™½
**è§£å†³æ–¹æ¡ˆ:**
- æ£€æŸ¥sidepanel.htmlæ–‡ä»¶æ˜¯å¦æ­£ç¡®ç”Ÿæˆ
- æŸ¥çœ‹sidepanelçš„æ§åˆ¶å°é”™è¯¯ï¼ˆå³é”®ç‚¹å‡»ä¾§è¾¹æ  â†’ æ£€æŸ¥ï¼‰

#### é—®é¢˜3: TypeScriptç¼–è¯‘é”™è¯¯
**è§£å†³æ–¹æ¡ˆ:**
- æ£€æŸ¥@types/chromeåŒ…ç‰ˆæœ¬
- å¯èƒ½éœ€è¦æ›´æ–°Chromeç±»å‹å®šä¹‰

### 6. æ‰‹åŠ¨æµ‹è¯•æ­¥éª¤

1. **é‡æ–°æ„å»ºé¡¹ç›®:**
   ```bash
   npm run build:dev
   ```

2. **é‡æ–°åŠ è½½æ‰©å±•:**
   - åœ¨chrome://extensions/é¡µé¢åˆ·æ–°æ‰©å±•

3. **æµ‹è¯•åŸºæœ¬åŠŸèƒ½:**
   - ç‚¹å‡»æ‰©å±•å›¾æ ‡
   - æ£€æŸ¥ä¾§è¾¹æ æ˜¯å¦å‡ºç°
   - æŸ¥çœ‹Reactåº”ç”¨æ˜¯å¦æ­£å¸¸æ¸²æŸ“

4. **æ£€æŸ¥æ§åˆ¶å°:**
   - Service Workeræ§åˆ¶å°
   - ä¾§è¾¹æ é¡µé¢æ§åˆ¶å°ï¼ˆå³é”®æ£€æŸ¥ï¼‰
   - ç½‘é¡µæ§åˆ¶å°ï¼ˆF12ï¼‰

### 7. åº”æ€¥æ–¹æ¡ˆ

å¦‚æœä¾§è¾¹æ ä»ç„¶æ— æ³•æ˜¾ç¤ºï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹åº”æ€¥æ–¹æ¡ˆï¼š

1. **ä½¿ç”¨popupä»£æ›¿sidepanel:**
   åœ¨manifest.jsonä¸­æ·»åŠ ï¼š
   ```json
   "action": {
     "default_popup": "sidepanel.html"
   }
   ```

2. **æˆ–è€…åˆ›å»ºæ–°æ ‡ç­¾é¡µ:**
   ```javascript
   chrome.tabs.create({ url: 'sidepanel.html' });
   ```

### 8. è°ƒè¯•å‘½ä»¤

åœ¨service workeræ§åˆ¶å°ä¸­æ‰§è¡Œï¼š
```javascript
// æ‰‹åŠ¨æ‰“å¼€ä¾§è¾¹æ 
chrome.tabs.query({active: true, currentWindow: true}, (tabs) => {
  chrome.sidePanel.setOptions({
    tabId: tabs[0].id,
    enabled: true,
    path: 'sidepanel.html'
  });
});
```

å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·æä¾›ï¼š
1. Chromeç‰ˆæœ¬å·
2. Service workeræ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
3. æ‰©å±•æ˜¯å¦åœ¨chrome://extensions/é¡µé¢æ˜¾ç¤ºä¸ºå·²å¯ç”¨